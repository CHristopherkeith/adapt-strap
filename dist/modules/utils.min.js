/**
 * adapt-strap
 * @version v0.2.2 - 2014-08-05
 * @link https://github.com/Adaptv/adapt-strap
 * @author Kashyap Patel (kashyap@adap.tv)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("adaptv.adaptStrap.utils",[]).factory("adStrapUtils",["$filter",function(e){return{evalObjectProperty:function(e,r){var a=r.split(".");if(e)for(;a.length;)e&&(e=e[a.shift()]);return e},applyFilter:function(r,a){var t,n;return a&&(t=a.split(":"),n=t[1],r=n?e(t[0])(r,n):e(t[0])(r)),r}}}]).factory("adDebounce",["$timeout","$q",function(e,r){"use strict";var a=function(a,t,n,o){var i=null,s=r.defer(),p=t||300;return function(){var t=o||this,u=arguments,g=n&&!i,l=function(){n||(s.resolve(a.apply(t,u)),s=r.defer())};return i&&e.cancel(i),i=e(l,p),g&&(s.resolve(a.apply(t,u)),s=r.defer()),s.promise}};return a}]).factory("adLoadPage",["$adConfig","$http","adStrapUtils",function(e,r,a){return function(t){var n=(t.pageNumber-1)*t.pageSize,o=angular.copy(e.paging),i=angular.copy(t.ajaxConfig);i.paginationConfig&&i.paginationConfig.request&&angular.extend(o.request,i.paginationConfig.request),i.paginationConfig&&i.paginationConfig.response&&angular.extend(o.response,i.paginationConfig.response),i.params[o.request.start]=n,i.params[o.request.pageSize]=t.pageSize,i.params[o.request.page]=t.pageNumber,t.sortKey&&(i.params[o.request.sortField]=t.sortKey),t.sortDirection===!1?i.params[o.request.sortDirection]=o.request.sortAscValue:t.sortDirection===!0&&(i.params[o.request.sortDirection]=o.request.sortDescValue);var s;return s="JSONP"===i.method?r.jsonp(i.url+"?callback=JSON_CALLBACK",i):r(i),s.then(function(e){for(var r={items:a.evalObjectProperty(e.data,o.response.itemsLocation),currentPage:t.pageNumber,totalPages:Math.ceil(a.evalObjectProperty(e.data,o.response.totalItems)/t.pageSize),pagingArray:[],token:t.token},n=5,i=t.pageNumber-Math.floor(n/2),s=i;s<=t.pageNumber;s++)s>0&&r.pagingArray.push(s);for(;r.pagingArray.length<n&&!(s>r.totalPages);)r.pagingArray.push(s),s++;return r})}}]);
//# sourceMappingURL=utils.min.js.map