/**
 * adapt-strap
 * @version v0.2.0 - 2014-08-04
 * @link https://github.com/Adaptv/adapt-strap
 * @author Kashyap Patel (kashyap@adap.tv)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("adaptv.adaptStrap.utils",[]).factory("adStrapUtils",["$filter",function(e){return{evalObjectProperty:function(e,r){var t=r.split(".");if(e)for(;t.length;)e&&(e=e[t.shift()]);return e},applyFilter:function(r,t){var a,n;return t&&(a=t.split(":"),n=a[1],r=n?e(a[0])(r,n):e(a[0])(r)),r}}}]).factory("adDebounce",["$timeout","$q",function(e,r){"use strict";var t=function(t,a,n,o){var i=null,s=r.defer(),u=a||300;return function(){var a=o||this,p=arguments,l=n&&!i,g=function(){n||(s.resolve(t.apply(a,p)),s=r.defer())};return i&&e.cancel(i),i=e(g,u),l&&(s.resolve(t.apply(a,p)),s=r.defer()),s.promise}};return t}]).factory("adLoadPage",["$adConfig","$http","adStrapUtils",function(e,r,t){return function(a,n,o,i,s){var u=(a-1)*n,p=angular.copy(e.paging),l=angular.copy(i);l.paginationConfig&&l.paginationConfig.request&&angular.extend(p.request,l.paginationConfig.request),l.paginationConfig&&l.paginationConfig.response&&angular.extend(p.response,l.paginationConfig.response),l.params[p.request.start]=u,l.params[p.request.pageSize]=n,l.params[p.request.page]=a,o.field&&(l.params[p.request.sortField]=o.field),o.reverse===!1?l.params[p.request.sortDirection]=p.request.sortAscValue:o.reverse===!0&&(l.params[p.request.sortDirection]=p.request.sortDescValue);var g;return g="JSONP"===l.method?r.jsonp(l.url+"?callback=JSON_CALLBACK",l):r(l),g.then(function(e){for(var r={items:t.evalObjectProperty(e.data,p.response.itemsLocation),currentPage:a,totalPages:Math.ceil(t.evalObjectProperty(e.data,p.response.totalItems)/n),pagingArray:[],identityToken:s},o=5,i=a-Math.floor(o/2),u=i;a>=u;u++)u>0&&r.pagingArray.push(u);for(;r.pagingArray.length<o&&!(u>r.totalPages);)r.pagingArray.push(u),u++;return r})}}]);
//# sourceMappingURL=utils.min.js.map