/**
 * adapt-strap
 * @version v0.2.0 - 2014-08-04
 * @link https://github.com/Adaptv/adapt-strap
 * @author Kashyap Patel (kashyap@adap.tv)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("adaptv.adaptStrap.tablelite",["adaptv.adaptStrap.utils"]).directive("adTableLite",["$parse","$http","$compile","$filter","$templateCache","$adConfig","adStrapUtils","adDebounce",function(a,e,i,t,g,l,n,s){"use strict";function o(e,o,r){e[r.tableName]={items:{list:void 0,paging:{currentPage:1,totalPages:void 0,pageSize:void 0,pageSizes:a(r.pageSizes)()||[10,25,50]}},localConfig:{pagingArray:[]},applyFilter:n.applyFilter};var p=e[r.tableName],c=g.get("tablelite/tablelite.tpl.html");p.items.paging.pageSize=p.items.paging.pageSizes[0],p.loadPage=s(function(a){var i,g=(a-1)*p.items.paging.pageSize,l=g+p.items.paging.pageSize,n=t("orderBy")(e.$eval(r.localDataSource),p.localConfig.predicate,p.localConfig.reverse);p.items.list=n.slice(g,l),p.items.paging.currentPage=a,p.items.paging.totalPages=Math.ceil(e.$eval(r.localDataSource).length/p.items.paging.pageSize),p.localConfig.pagingArray=[];var s=5,o=a-Math.floor(s/2);for(i=o;a>=i;i++)i>0&&p.localConfig.pagingArray.push(i);for(;p.localConfig.pagingArray.length<s&&!(i>p.items.paging.totalPages);)p.localConfig.pagingArray.push(i),i++}),p.loadNextPage=function(){p.items.paging.currentPage+1<=p.items.paging.totalPages&&p.loadPage(p.items.paging.currentPage+1)},p.loadPreviousPage=function(){p.items.paging.currentPage-1>0&&p.loadPage(p.items.paging.currentPage-1)},p.loadLastPage=function(){p.localConfig.disablePaging||p.loadPage(p.items.paging.totalPages)},p.pageSizeChanged=function(a){p.items.paging.pageSize=a,p.loadPage(1)},p.sortByColumn=function(a){a.sortKey&&(p.localConfig.predicate=a.sortKey,p.localConfig.reverse=!p.localConfig.reverse,p.loadPage(p.items.paging.currentPage))},p.loadPage(1),r.tableClasses=r.tableClasses||"table",r.paginationBtnGroupClasses=r.paginationBtnGroupClasses||"btn-group btn-group-sm",c=c.replace(/%=tableName%/g,r.tableName).replace(/%=columnDefinition%/g,r.columnDefinition).replace(/%=paginationBtnGroupClasses%/g,r.paginationBtnGroupClasses).replace(/%=tableClasses%/g,r.tableClasses).replace(/%=icon-firstPage%/g,l.iconClasses.firstPage).replace(/%=icon-previousPage%/g,l.iconClasses.previousPage).replace(/%=icon-nextPage%/g,l.iconClasses.nextPage).replace(/%=icon-lastPage%/g,l.iconClasses.lastPage).replace(/%=icon-sortAscending%/g,l.iconClasses.sortAscending).replace(/%=icon-sortDescending%/g,l.iconClasses.sortDescending).replace(/%=icon-sortable%/g,l.iconClasses.sortable),o.empty(),o.append(i(c)(e)),e.$watch(r.localDataSource,function(){p.loadPage(1)},!0)}return{restrict:"E",link:o}}]);
//# sourceMappingURL=tablelite.min.js.map