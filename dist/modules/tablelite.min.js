/**
 * adapt-strap
 * @version v0.1.7 - 2014-08-01
 * @link https://github.com/Adaptv/adapt-strap
 * @author Kashyap Patel (kashyap@adap.tv)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("adaptv.adaptStrap.tablelite",["adaptv.adaptStrap.utils"]).provider("$tablelite",function(){var a=this.defaults={expandIconClass:"glyphicon glyphicon-plus-sign",collapseIconClass:"glyphicon glyphicon-minus-sign",loadingIconClass:"glyphicon glyphicon-refresh ad-spin"};this.$get=function(){return{settings:a}}}).directive("adTableLite",["$parse","$http","$compile","$filter","$templateCache","adStrapUtils","adDebounce",function(a,e,i,t,g,l,n){"use strict";function s(e,s,o){e[o.tableName]={items:{list:void 0,paging:{currentPage:1,totalPages:void 0,pageSize:void 0,pageSizes:a(o.pageSizes)()||[10,25,50]}},localConfig:{pagingArray:[]},applyFilter:l.applyFilter};var p=e[o.tableName],r=g.get("tablelite/tablelite.tpl.html");p.items.paging.pageSize=p.items.paging.pageSizes[0],p.loadPage=n(function(a){var i,g,l=(a-1)*p.items.paging.pageSize,n=l+p.items.paging.pageSize,s=t("orderBy")(e.$eval(o.localDataSource),p.localConfig.predicate,p.localConfig.reverse);for(p.items.list=s.slice(l,n),p.items.paging.currentPage=a,p.items.paging.totalPages=Math.ceil(e.$eval(o.localDataSource).length/p.items.paging.pageSize),p.localConfig.pagingArray=[],g=Math.ceil(a/p.items.paging.pageSize)*p.items.paging.pageSize-(p.items.paging.pageSize-1),i=0;5>i;i++)g+i>0&&g+i<=p.items.paging.totalPages&&p.localConfig.pagingArray.push(g+i)}),p.loadNextPage=function(){p.items.paging.currentPage+1<=p.items.paging.totalPages&&p.loadPage(p.items.paging.currentPage+1)},p.loadPreviousPage=function(){p.items.paging.currentPage-1>0&&p.loadPage(p.items.paging.currentPage-1)},p.loadLastPage=function(){p.localConfig.disablePaging||p.loadPage(p.items.paging.totalPages)},p.pageSizeChanged=function(a){p.items.paging.pageSize=a,p.loadPage(1)},p.sortByColumn=function(a){a.sortable&&(p.localConfig.predicate=a.displayProperty,p.localConfig.reverse=!p.localConfig.reverse,p.loadPage(p.items.paging.currentPage))},p.loadPage(1),o.tableClasses=o.tableClasses||"table",o.paginationBtnGroupClasses=o.paginationBtnGroupClasses||"btn-group btn-group-sm",r=r.replace(/%=tableName%/g,o.tableName).replace(/%=columnDefinition%/g,o.columnDefinition).replace(/%=paginationBtnGroupClasses%/g,o.paginationBtnGroupClasses).replace(/%=tableClasses%/g,o.tableClasses),angular.element(s).html(i(r)(e)),e.$watch(o.localDataSource,function(){p.loadPage(1)},!0)}return{restrict:"E",link:s}}]);
//# sourceMappingURL=tablelite.min.js.map