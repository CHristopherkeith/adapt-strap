/**
 * adapt-strap
 * @version v0.1.2 - 2014-07-29
 * @link https://github.com/Adaptv/adapt-strap
 * @author Kashyap Patel (kashyap@adap.tv)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("adaptv.adaptStrap.tablelite",["adaptv.adaptStrap.utils"]).provider("$tablelite",function(){var a=this.defaults={expandIconClass:"glyphicon glyphicon-plus-sign",collapseIconClass:"glyphicon glyphicon-minus-sign",loadingIconClass:"glyphicon glyphicon-refresh ad-spin"};this.$get=function(){return{settings:a}}}).directive("adTableLite",["$parse","$http","$compile","$filter","$templateCache","adStrapUtils",function(a,e,i,t,g,l){"use strict";function n(e,n,s){e[s.tableName]={items:{list:void 0,paging:{currentPage:1,totalPages:void 0,pageSize:void 0,pageSizes:a(s.pageSizes)()||[10,25,50]}},localConfig:{pagingArray:[]},applyFilter:l.applyFilter};var o=e[s.tableName],p=g.get("tablelite/tablelite.tpl.html");o.items.paging.pageSize=o.items.paging.pageSizes[0],o.loadPage=function(a){var i,g,l=(a-1)*o.items.paging.pageSize,n=l+o.items.paging.pageSize,p=t("orderBy")(e.$eval(s.localDataSource),o.localConfig.predicate,o.localConfig.reverse);for(o.items.list=p.slice(l,n),o.items.paging.currentPage=a,o.items.paging.totalPages=Math.ceil(e.$eval(s.localDataSource).length/o.items.paging.pageSize),o.localConfig.pagingArray=[],g=Math.ceil(a/o.items.paging.pageSize)*o.items.paging.pageSize-(o.items.paging.pageSize-1),i=0;5>i;i++)g+i>0&&g+i<=o.items.paging.totalPages&&o.localConfig.pagingArray.push(g+i)},o.loadNextPage=function(){o.items.paging.currentPage+1<=o.items.paging.totalPages&&o.loadPage(o.items.paging.currentPage+1)},o.loadPreviousPage=function(){o.items.paging.currentPage-1>0&&o.loadPage(o.items.paging.currentPage-1)},o.loadLastPage=function(){o.localConfig.disablePaging||o.loadPage(o.items.paging.totalPages)},o.pageSizeChanged=function(a){o.items.paging.pageSize=a,o.loadPage(1)},o.sortByColumn=function(a){a.sortable&&(o.localConfig.predicate=a.displayProperty,o.localConfig.reverse=!o.localConfig.reverse,o.loadPage(o.items.paging.currentPage))},o.loadPage(1),s.tableClasses=s.tableClasses||"table",s.paginationBtnGroupClasses=s.paginationBtnGroupClasses||"btn-group btn-group-sm",p=p.replace(/%=tableName%/g,s.tableName).replace(/%=columnDefinition%/g,s.columnDefinition).replace(/%=paginationBtnGroupClasses%/g,s.paginationBtnGroupClasses).replace(/%=tableClasses%/g,s.tableClasses),angular.element(n).html(i(p)(e))}return{restrict:"E",link:n}}]);
//# sourceMappingURL=tablelite.min.js.map