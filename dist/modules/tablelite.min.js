/**
 * adapt-strap
 * @version v0.2.2 - 2014-08-05
 * @link https://github.com/Adaptv/adapt-strap
 * @author Kashyap Patel (kashyap@adap.tv)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("adaptv.adaptStrap.tablelite",["adaptv.adaptStrap.utils"]).directive("adTableLite",["$parse","$http","$compile","$filter","$templateCache","$adConfig","adStrapUtils","adDebounce",function(e,a,i,t,g,l,n,o){"use strict";function s(a,s,r){a[r.tableName]={items:{list:void 0,paging:{currentPage:1,totalPages:void 0,pageSize:void 0,pageSizes:e(r.pageSizes)()||[10,25,50]}},localConfig:{pagingArray:[]},applyFilter:n.applyFilter};var c=a[r.tableName],p=g.get("tablelite/tablelite.tpl.html");c.items.paging.pageSize=c.items.paging.pageSizes[0],c.loadPage=o(function(e){var i,g=(e-1)*c.items.paging.pageSize,l=g+c.items.paging.pageSize,n=t("orderBy")(a.$eval(r.localDataSource),c.localConfig.predicate,c.localConfig.reverse);c.items.list=n.slice(g,l),c.items.paging.currentPage=e,c.items.paging.totalPages=Math.ceil(a.$eval(r.localDataSource).length/c.items.paging.pageSize),c.localConfig.pagingArray=[];var o=5,s=e-Math.floor(o/2);for(i=s;e>=i;i++)i>0&&c.localConfig.pagingArray.push(i);for(;c.localConfig.pagingArray.length<o&&!(i>c.items.paging.totalPages);)c.localConfig.pagingArray.push(i),i++}),c.loadNextPage=function(){c.items.paging.currentPage+1<=c.items.paging.totalPages&&c.loadPage(c.items.paging.currentPage+1)},c.loadPreviousPage=function(){c.items.paging.currentPage-1>0&&c.loadPage(c.items.paging.currentPage-1)},c.loadLastPage=function(){c.localConfig.disablePaging||c.loadPage(c.items.paging.totalPages)},c.pageSizeChanged=function(e){c.items.paging.pageSize=e,c.loadPage(1)},c.sortByColumn=function(e){e.sortKey&&(e.sortKey!==c.localConfig.predicate?(c.localConfig.predicate=e.sortKey,c.localConfig.reverse=!0):c.localConfig.reverse===!0?c.localConfig.reverse=!1:(c.localConfig.reverse=void 0,c.localConfig.predicate=void 0),c.loadPage(c.items.paging.currentPage))},c.loadPage(1),r.tableClasses=r.tableClasses||"table",r.paginationBtnGroupClasses=r.paginationBtnGroupClasses||"btn-group btn-group-sm",p=p.replace(/%=tableName%/g,r.tableName).replace(/%=columnDefinition%/g,r.columnDefinition).replace(/%=paginationBtnGroupClasses%/g,r.paginationBtnGroupClasses).replace(/%=tableClasses%/g,r.tableClasses).replace(/%=icon-firstPage%/g,l.iconClasses.firstPage).replace(/%=icon-previousPage%/g,l.iconClasses.previousPage).replace(/%=icon-nextPage%/g,l.iconClasses.nextPage).replace(/%=icon-lastPage%/g,l.iconClasses.lastPage).replace(/%=icon-sortAscending%/g,l.iconClasses.sortAscending).replace(/%=icon-sortDescending%/g,l.iconClasses.sortDescending).replace(/%=icon-sortable%/g,l.iconClasses.sortable),s.empty(),s.append(i(p)(a)),a.$watch(r.localDataSource,function(){c.loadPage(1)},!0)}return{restrict:"E",link:s}}]);
//# sourceMappingURL=tablelite.min.js.map