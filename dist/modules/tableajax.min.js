/**
 * adapt-strap
 * @version v0.0.5 - 2014-07-27
 * @link https://github.com/Adaptv/adapt-strap
 * @author Kashyap Patel (kashyap@adap.tv)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("adaptv.adaptStrap.tableajax",[]).provider("$tableajax",function(){var a=this.defaults={expandIconClass:"glyphicon glyphicon-plus-sign",collapseIconClass:"glyphicon glyphicon-minus-sign",loadingIconClass:"glyphicon glyphicon-refresh ad-spin"};this.$get=function(){return{settings:a}}}).directive("adTableAjax",["$parse","$compile","$templateCache","$adPaging","adDebounce","adStrapUtils",function(a,e,i,g,n,t){"use strict";function l(l,s,o){l[o.tableName]={items:{list:void 0,paging:{currentPage:1,totalPages:void 0,pageSize:void 0,pageSizes:a(o.pageSizes)()||[10,25,50]}},localConfig:{pagingArray:[],disablePaging:!1},ajaxConfig:l.$eval(o.ajaxConfig),applyFilter:t.applyFilter};var p=l[o.tableName],c=i.get("tableajax/tableajax.tpl.html");p.items.paging.pageSize=p.items.paging.pageSizes[0],p.loadPage=n(function(a){p.localConfig.disablePaging||(p.localConfig.disablePaging=!0,g.loadPage(a,p.items.paging.pageSize,p.ajaxConfig).then(function(a){p.items.list=a.items,p.items.paging.totalPages=a.totalPages,p.items.paging.currentPage=a.currentPage,p.localConfig.pagingArray=a.pagingArray,p.localConfig.disablePaging=!1},function(){p.localConfig.disablePaging=!1}))},50,!1),p.loadNextPage=function(){p.items.paging.currentPage+1<=p.items.paging.totalPages&&p.loadPage(p.items.paging.currentPage+1)},p.loadPreviousPage=function(){p.items.paging.currentPage-1>0&&p.loadPage(p.items.paging.currentPage-1)},p.pageSizeChanged=function(a){p.items.paging.pageSize=a,p.loadPage(1)},p.loadPage(1),l.$watch(o.ajaxConfig,function(){p.loadPage(1)},!0),o.tableClasses=o.tableClasses||"table",o.paginationClasses=o.paginationClasses||"pagination",c=c.replace(/%=tableName%/g,o.tableName).replace(/%=columnDefinition%/g,o.columnDefinition).replace(/%=tableClasses%/g,o.tableClasses).replace(/%=paginationClasses%/g,o.paginationClasses),angular.element(s).html(e(c)(l))}return{restrict:"E",link:l}}]);
//# sourceMappingURL=tableajax.min.js.map