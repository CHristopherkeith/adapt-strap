/**
 * adapt-strap
 * @version v0.0.3 - 2014-07-27
 * @link https://github.com/Adaptv/adapt-strap
 * @author Kashyap Patel (kashyap@adap.tv)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("adaptv.adaptStrap.tableajax",[]).provider("$tableajax",function(){var a=this.defaults={expandIconClass:"glyphicon glyphicon-plus-sign",collapseIconClass:"glyphicon glyphicon-minus-sign",loadingIconClass:"glyphicon glyphicon-refresh ad-spin"};this.$get=function(){return{settings:a}}}).directive("adTableAjax",["$q","$http","$compile","$filter","$templateCache","$adPaging","adStrapUtils",function(a,e,t,i,n,l,g){"use strict";function s(a,e,i){a[i.tableName]={items:{list:void 0,paging:{currentPage:1,totalPages:void 0,pageSize:5}},localConfig:{pagingArray:[]},ajaxConfig:a.$eval(i.ajaxConfig)};var s=a[i.tableName],o=n.get("tablelite/tablelite.tpl.html");a.formatValue=function(a,e){return g.applyFilter(a,e)},a.loadPage=function(a){l.loadPage(a,s.items.paging.pageSize,s.ajaxConfig).then(function(a){s.items.list=a.items,s.items.paging.totalPages=a.totalPages,s.items.paging.currentPage=a.currentPage,s.localConfig.pagingArray=a.pagingArray})},a.loadNextPage=function(){s.items.paging.currentPage+1<=s.items.paging.totalPages&&a.loadPage(s.items.paging.currentPage+1)},a.loadPreviousPage=function(){s.items.paging.currentPage-1>0&&a.loadPage(s.items.paging.currentPage-1)},a.loadPage(1),i.tableClasses=i.tableClasses||"table",o=o.replace(/%=tableName%/g,i.tableName).replace(/%=columnDefinition%/g,i.columnDefinition).replace(/%=tableClasses%/g,i.tableClasses),angular.element(e).html(t(o)(a))}return{restrict:"E",link:s}}]);
//# sourceMappingURL=tableajax.min.js.map